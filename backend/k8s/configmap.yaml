apiVersion: v1
kind: ConfigMap
metadata:
  name: rtx-config
  namespace: rtx-prod
  labels:
    app: rtx-backend
data:
  # Server Configuration
  PORT: "8080"
  METRICS_PORT: "9090"
  GIN_MODE: "release"
  LOG_LEVEL: "info"
  LOG_FORMAT: "json"

  # Database Configuration
  DB_MAX_OPEN_CONNS: "100"
  DB_MAX_IDLE_CONNS: "20"
  DB_CONN_MAX_LIFETIME: "5m"
  DB_CONN_MAX_IDLE_TIME: "5m"

  # Redis Configuration
  REDIS_MAX_RETRIES: "3"
  REDIS_POOL_SIZE: "50"
  REDIS_POOL_TIMEOUT: "4s"
  REDIS_MIN_IDLE_CONNS: "10"

  # JWT Configuration
  JWT_EXPIRY: "24h"
  JWT_REFRESH_EXPIRY: "168h"

  # Security Configuration
  CORS_ALLOWED_ORIGINS: "https://rtx-trading.com,https://app.rtx-trading.com"
  RATE_LIMIT: "1000"
  RATE_LIMIT_WINDOW: "1m"

  # Feature Flags
  ENABLE_METRICS: "true"
  ENABLE_PROFILING: "false"
  ENABLE_TRACING: "true"

  # FIX Protocol Configuration
  FIX_SOCKET_CONNECT_HOST: "fix.yofx.t4b.io"
  FIX_SOCKET_CONNECT_PORT: "5201"
  FIX_SENDER_COMP_ID: "YOFX1"
  FIX_TARGET_COMP_ID: "QUOTE"
  FIX_HEARTBEAT_INT: "30"

  # Monitoring Configuration
  SENTRY_ENVIRONMENT: "production"
  SENTRY_SAMPLE_RATE: "0.1"
  SENTRY_TRACES_SAMPLE_RATE: "0.05"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: rtx-config
  namespace: rtx-staging
  labels:
    app: rtx-backend
data:
  PORT: "8080"
  METRICS_PORT: "9090"
  GIN_MODE: "release"
  LOG_LEVEL: "debug"
  LOG_FORMAT: "json"
  DB_MAX_OPEN_CONNS: "50"
  DB_MAX_IDLE_CONNS: "10"
  DB_CONN_MAX_LIFETIME: "5m"
  REDIS_MAX_RETRIES: "3"
  REDIS_POOL_SIZE: "25"
  JWT_EXPIRY: "24h"
  CORS_ALLOWED_ORIGINS: "https://staging.rtx-trading.com"
  RATE_LIMIT: "500"
  ENABLE_METRICS: "true"
  ENABLE_PROFILING: "true"
  ENABLE_TRACING: "true"
  SENTRY_ENVIRONMENT: "staging"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: rtx-config
  namespace: rtx-dev
  labels:
    app: rtx-backend
data:
  PORT: "8080"
  METRICS_PORT: "9090"
  GIN_MODE: "debug"
  LOG_LEVEL: "debug"
  LOG_FORMAT: "text"
  DB_MAX_OPEN_CONNS: "25"
  DB_MAX_IDLE_CONNS: "5"
  DB_CONN_MAX_LIFETIME: "5m"
  REDIS_MAX_RETRIES: "3"
  REDIS_POOL_SIZE: "10"
  JWT_EXPIRY: "24h"
  CORS_ALLOWED_ORIGINS: "http://localhost:3000,http://localhost:8080"
  RATE_LIMIT: "100"
  ENABLE_METRICS: "true"
  ENABLE_PROFILING: "true"
  ENABLE_TRACING: "false"
  SENTRY_ENVIRONMENT: "development"
